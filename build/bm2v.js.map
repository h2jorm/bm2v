{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 807caff02d31929424ee","webpack:///./src/index.js","webpack:///./src/core/index.js","webpack:///./src/core/binder.js","webpack:///./src/core/model.js","webpack:///./src/core/view.js","webpack:///./src/binders/index.js","webpack:///./src/binders/class.js","webpack:///./src/binders/empty.js","webpack:///./src/binders/for.js","webpack:///./src/binders/form.js","webpack:///./src/binders/if.js","webpack:///./src/binders/json.js","webpack:///./src/binders/text.js"],"names":[],"mappings":"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","file":"bm2v.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bm2v\"] = factory();\n\telse\n\t\troot[\"bm2v\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 807caff02d31929424ee\n **/","import {\n  Binder,\n  BinderCache,\n  Model,\n  View\n} from './core';\nimport './binders';\n\nexports.Binder = Binder;\nexports.BinderCache = BinderCache;\nexports.Model = Model;\nexports.View = View;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","export {Binder} from './binder';\nexport {BinderCache, Model} from './model';\nexport {View} from './view';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/index.js\n **/","export class Binder {\n  static register(type, fn) {\n    if (Binder.strategies[type])\n      throw new Error(`${type} has been registered in Binder strategies`);\n    Binder.strategies[type] = fn;\n  }\n  static cancel(type) {\n    delete Binder.strategies[type];\n  }\n  constructor(cog, viewCtx) {\n    const [type, ...strategyParams] = cog;\n    const strategy = Binder.strategies[type];\n    if (!strategy)\n      throw new Error(`${type} is not registered in Binder strategies`);\n    if (typeof strategy === 'function') {\n      strategyParams.unshift(viewCtx);\n      // `this` points to a view\n      strategy.apply(this, strategyParams);\n    }\n  }\n}\n\nBinder.strategies = {};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/binder.js\n **/","export class BinderCache {\n  constructor(bind) {\n    this.cache = [];\n    if (bind)\n      this.add(bind);\n  }\n  add(bind) {\n    this.cache.push(bind);\n  }\n}\n\nexport class Model {\n  constructor(value) {\n    this.model = value;\n    this.cache = {};\n  }\n  cacheBinder(key, binder) {\n    const old = this.cache[key];\n    if (!old)\n      this.cache[key] = new BinderCache(binder);\n    else\n      old.add(binder);\n  }\n  get(key) {\n    if (!key)\n      return this.model;\n    return this.model[key];\n  }\n  update(key, value) {\n    if (key === '')\n      this.model = value;\n    else\n      this.model[key] = value;\n    const bindersOfKey = this.cache[key];\n    const bindersOfModel = key === '' ? null : this.cache[''];\n    if (bindersOfKey)\n      bindersOfKey.cache.forEach(binder => {\n        if (typeof binder.update === 'function')\n          binder.update(value);\n      });\n    if (bindersOfModel)\n      bindersOfModel.cache.forEach(binder => {\n        if (typeof binder.update === 'function')\n          binder.update(this.model);\n      });\n  }\n  updateCollection(key, index, value) {\n    if (key === '')\n      this.model[index] = value;\n    else\n      this.model[key][index] = value;\n    const bindersOfKey = this.cache[key];\n    const bindersOfModel = key === '' ? null : this.cache[''];\n    if (bindersOfKey)\n      bindersOfKey.cache.forEach(binder => {\n        if (typeof binder.update === 'function')\n          binder.update(this.model[key]);\n      });\n    if (bindersOfModel)\n      bindersOfModel.cache.forEach(binder => {\n        if (typeof binder.update === 'function')\n          binder.update(this.model);\n      });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/model.js\n **/","import {Binder} from './binder';\n\nexport class View {\n  constructor(conf) {\n    const {template, models, events, model, bind} = conf;\n    this.dom = createContainer(template);\n    // this is a sugar api\n    if (model && bind)\n      this.bindModel(model, bind);\n    if (!model && models)\n      models.forEach(_model => {\n        const {model, bind} = _model;\n        this.bindModel(model, bind);\n      });\n    if (events)\n      for (let selector in events) {\n        const event = events[selector];\n        const [eventName, callback] = event;\n        this.bindEvent(selector, eventName, callback);\n      }\n  }\n  append(selector, view) {\n    let parentNode, childNode;\n    const errMsg = 'invalid parameters in bm2v.View.append method';\n    switch (arguments.length) {\n      case 2:\n      parentNode = this.query(selector)[0];\n      childNode = view instanceof View ? view.dom : view;\n      break;\n      case 1:\n      parentNode = this.dom;\n      if (selector instanceof View)\n        childNode = selector.dom;\n      else if (selector instanceof HTMLElement)\n        childNode = selector;\n      else\n        throw new Error(errMsg);\n      break;\n      default:\n      throw new Error(errMsg);\n    }\n    if (!parentNode)\n      throw new Error(`can not find '${selector}' when try to append to it`);\n    parentNode.appendChild(childNode);\n  }\n  bindEvent(selector, eventName, callback) {\n    const doms = this.query(selector);\n    doms.forEach(dom => {\n      dom.addEventListener(eventName, event => {\n        callback.call(this, event);\n      });\n    });\n  }\n  bindModel(model, bind) {\n    let key;\n    for (key in bind) {\n      const binderCogs = bind[key];\n      binderCogs.forEach(bindCog => {\n        model.cacheBinder(key, new Binder(bindCog, this));\n        model.update(key, key === '' ? model.model : model.model[key]);\n      });\n    }\n  }\n  query(selector) {\n    let ret = [];\n    if (!selector) {\n      ret.push(this.dom);\n      return ret;\n    }\n    if (matchesSelector(this.dom, selector))\n      ret.push(this.dom);\n    Array.prototype.forEach.call(this.dom.querySelectorAll(selector), dom => {\n      ret.push(dom);\n    });\n    return ret;\n  }\n}\n\nfunction createContainer(html) {\n  var container = document.createElement('div');\n  container.innerHTML = html;\n  if (container.childNodes.length === 1 && container.childNodes[0].nodeType === 1)\n    return container.childNodes[0];\n  return container;\n}\n\nfunction matchesSelector(dom, selector) {\n  if (!selector || !dom)\n    return false;\n  const matches = dom.matches || dom.msMatchesSelector || dom.mozMatchesSelector || dom.webkitMatchesSelector;\n  if (!matches)\n    return false;\n  return matches.call(dom, selector);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/view.js\n **/","import './class';\nimport './empty';\nimport './for';\nimport './form';\nimport './if';\nimport './json';\nimport './text';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/index.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('class', function (view, selector, classNames) {\n  classNames = toClassNameList(classNames);\n  const doms = view.query(selector);\n  this.update = function (value) {\n    doms.forEach(dom => {\n      const classList = dom.classList;\n      const exec = !!value ? classList.add : classList.remove;\n      exec.apply(classList, classNames);\n    });\n  };\n});\n\nfunction toClassNameList(classNames) {\n  if (!classNames)\n    return [];\n  if (Array.isArray(classNames))\n    return classNames;\n  return [classNames];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/class.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('empty', function () {\n  this.update = function () {};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/empty.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('for', function (view, selector, createChildView) {\n  const doms = view.query(selector);\n  this.update = function (collection) {\n    let childViews = [];\n    collection.forEach((model, index) => {\n      const childView = createChildView(model, index);\n      childViews.push(childView);\n    });\n    doms.forEach(dom => {\n      while(dom.firstChild) {\n        dom.firstChild.remove();\n      }\n      childViews.forEach(childView => {\n        dom.appendChild(childView.dom);\n      });\n    });\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/for.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('form', function (view, selector) {\n  const inputs = view.query(selector);\n  this.update = function (value) {\n    inputs.forEach(input => {\n      switch (input.type) {\n        case 'text':\n        input.value !== value ? input.value = value : '';\n        break;\n        case 'checkbox':\n        input.checked = !!value;\n        break;\n        case 'radio':\n        input.checked = input.value === value;\n        break;\n      }\n    });\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/form.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('if', function (view, selector) {\n  const doms = view.query(selector);\n  const cache = [];\n  doms.forEach(dom => {\n    cache.push([dom, document.createComment(`bm2v if ${selector}`)]);\n  });\n  this.update = function (value) {\n    value = !!value;\n    cache.forEach(([dom, commentDom]) => {\n      if (value)\n        replaceTo(dom, commentDom);\n      else\n        replaceTo(commentDom, dom);\n    });\n  };\n});\n\nfunction replaceTo(newNode, oldNode) {\n  const {parentNode} = oldNode;\n  if (!parentNode)\n    return;\n  parentNode.replaceChild(newNode, oldNode);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/if.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('json', function (view, selector) {\n  const doms = view.query(selector);\n  const cache = [];\n  doms.forEach((dom) => {\n    const textNode = document.createTextNode('');\n    dom.appendChild(textNode);\n    cache.push(textNode);\n  });\n  this.update = function (value) {\n    cache.forEach(textNode => {\n      let jsonStr;\n      try {\n        jsonStr = JSON.stringify(value, null, 2);\n      } catch (err) {\n        jsonStr = 'invalid json';\n      }\n      textNode.textContent = jsonStr;\n    });\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/json.js\n **/","import {Binder} from '../core/binder';\n\nBinder.register('text', function (view, selector, transform) {\n  const doms = view.query(selector);\n  const cache = [];\n  const getText = typeof transform === 'function' ?\n    function (value) { return transform(value); } :\n    function (value) { return value; };\n  doms.forEach((dom) => {\n    removeChildNodes(dom);\n    const textNode = document.createTextNode('');\n    dom.appendChild(textNode);\n    cache.push(textNode);\n  });\n  this.update = function (value) {\n    cache.forEach(textNode => {\n      textNode.textContent = getText(value);\n    });\n  };\n});\n\nfunction removeChildNodes(dom) {\n  const childNodes = dom.childNodes;\n  if (!childNodes || !childNodes.length)\n    return;\n  Array.prototype.forEach.call(childNodes, childNode => childNode.remove());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binders/text.js\n **/"],"sourceRoot":""}